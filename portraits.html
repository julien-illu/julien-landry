<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Portraits – Julien Landry</title>
  <style>
    * { box-sizing: border-box; margin:0; padding:0; }
    body { 
      font-family: 'Inter', sans-serif; 
      background: #fdfaf5; 
      color: #2b2b2b; 
      line-height: 1.7; 
      font-size: 1.05rem; 
    }

    header { 
      background:#1e1e24; 
      color:#fff; 
      padding:30px 20px; 
      text-align:center; 
    }
    header h1 { font-size:2rem; margin-bottom:10px; }
    header a { 
      color:#c89b3c; 
      text-decoration:none; 
      font-weight:600; 
      transition: color .25s; 
    }
    header a:hover { color:#e2c574; }

    /* === Masonry Grid plus large et espacée === */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));
      grid-auto-rows: 15px;
      gap: 25px;
      margin: 50px;
    }

    .gallery a {
      display: block;
      grid-row-end: span var(--span);
    }

    .gallery img {
      width: 100%;
      display: block;
      border-radius: 8px;
      cursor: pointer;
    }

    /* === Lightbox === */
    .lightbox {
      position: fixed;
      top:0; left:0; right:0; bottom:0;
      background: rgba(0,0,0,0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .lightbox img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    }

    footer { 
      background:#1e1e24; 
      color:white; 
      text-align:center; 
      padding:25px; 
      margin-top:20px; 
      font-size:0.9rem; 
      opacity:0.85; 
    }
  </style>
</head>
<body>
  <header>
    <h1>Portraits – Julien Landry</h1>
    <a href="index.html">← Retour au Book</a>
  </header>

  <div class="gallery">
    <a href="#"><img src="images/Portrait_preview.jpg" alt="Portrait 2" loading="lazy"></a>
    <a href="#"><img src="images/carnet01.jpg" alt="Portrait 1" loading="lazy"></a>
    <a href="#"><img src="images/IMG_5182.JPEG" alt="Portrait 3" loading="lazy"></a>
  </div>

  <div class="lightbox" id="lightbox">
    <img src="" alt="Agrandissement">
  </div>

  <footer>
    <p>© 2025 Julien Landry – Tous droits réservés</p>
  </footer>

  <script>
    const gallery = document.querySelector('.gallery');
    const items = gallery.querySelectorAll('a');

    function resizeMasonryItem(item) {
      const rowHeight = parseInt(window.getComputedStyle(gallery).getPropertyValue('grid-auto-rows'));
      const rowGap = parseInt(window.getComputedStyle(gallery).getPropertyValue('gap'));
      const img = item.querySelector('img');
      const span = Math.ceil((img.offsetHeight + rowGap) / (rowHeight + rowGap));
      item.style.setProperty('--span', span);
    }

    items.forEach(item => {
      const img = item.querySelector('img');
      if (img.complete) resizeMasonryItem(item);
      else img.addEventListener('load', () => resizeMasonryItem(item));
    });

    window.addEventListener('resize', () => {
      items.forEach(item => resizeMasonryItem(item));
    });

    // === Lightbox ===
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('img');

    items.forEach(item => {
      item.addEventListener('click', e => {
        e.preventDefault();
        const img = item.querySelector('img');
        lightboxImg.src = img.src;
        lightbox.style.display = 'flex';
      });
    });

    lightbox.addEventListener('click', () => {
      lightbox.style.display = 'none';
      lightboxImg.src = '';
    });
  </script>
</body>
</html>
